# ファイル交換の動作確認PJ

## 🗄️PJ概要

サーバ・クライアント間のファイル交換の動作確認を、ローカルで行うための練習用PJ。
サーバは、クライアントからファイル(カンマ区切りのcsvファイル)を受け取り、ファイルに書き込みを行う。

## 🗃️手順概要

１．サーバの基本機能を持ったクラスを実装する。

２．クライアントの基本機能を持ったクラスを実装する。

３．クライアントからサーバにファイルを送れるようにする。

４．クライアントを複数立てて、接続できるような実装を作成する(シェルスクリプト？)。

５．簡単な性能テストを行う。

以下、詳細な手順は「手順詳細」で説明する。

## 📁手順詳細

### １．サーバの基本機能を持ったクラスを実装する。

ここで言うサーバの基本機能は以下の通り。

- ipとポート番号のバインド処理
- socket作成
- クライアントからの待受処理(accept)
- データの受信処理(標準出力経由)

サーバはポート単位で待受(accept)を行い、クラアントから要求が来たらsocketを作成する。
それぞれのsocketはポートの数(=10個)だけ作成される。それぞれのsocketからさらに最大接続数(=10個)分だけスレッドを作成する。この時点では、ファイルの受信処理は実装せず、標準出力からデータを受け取るよう実装する。

### ２．クライアントの基本機能を持ったクラスを実装する。

ここで言うクライアントの基本機能とは以下の通り。

- ソケットの作成
- データの送信処理(標準入力経由)

ソケットの作成処理後、ローカルのcsvファイルを読み込みサーバに送信する。この時点では、ファイルの送信処理は実装せず、標準入力経由でデータを送信するよう実装する。

### ３．クライアントからサーバにファイルを送れるようにする。

標準入力/出力でデータをやり取りしている実装について、csvファイルを送受信するように実装し直す。InputStream, OutputStreamにsocketを利用してファイルの送受信を行う。

**■サーバ側実装**

サーバ側のsocketごとに、接続待機用のスレッド(accept)を10個作成して、そのスレッド毎にファイル受信処理(handler)を持たせる。

**■クライアント側実装**

ファイル送信処理を実装する。

### ５．簡単な性能テストを行う。

<aside>
✅

性能の目安

> socket用スレッド10個 × handler用スレッド10個 = 100個のファイル受信処理
> 

クライアントから最大100個のファイル受信処理のリクエスト処理を受信・実行できるサーバを作成する。

</aside>

###
